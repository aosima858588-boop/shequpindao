<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>æµ·è±šç¤¾åŒº Â· æç®€é€æ˜</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* å½»åº•é€æ˜ Â· æè‡´è½»è–„ */
        :root {
            --blue: #0066ff;
            --blue-light: rgba(0, 102, 255, 0.06);
            --gray-bg: rgba(255, 255, 255, 0.4);
            --gray-border: rgba(60, 60, 80, 0.08);
            --text-dark: #11181c;
            --text-soft: #2f3e4c;
            --text-light: #68747d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', sans-serif;
            background: transparent;  /* å®Œå…¨é€æ˜ï¼Œæ— ä»»ä½•èƒŒæ™¯å›¾æ¡ˆ */
            color: var(--text-dark);
            padding: 16px;
            min-height: 100vh;
            line-height: 1.4;
            -webkit-font-smoothing: antialiased;
        }

        /* å¡ç‰‡ â€”â€” æè‡´è½»è–„æ¯›ç»ç’ƒ */
        .glass-card {
            background: rgba(255, 255, 255, 0.58);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 0.5px solid rgba(255, 255, 255, 0.6);
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.04);
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
            transition: all 0.2s ease;
        }

        /* æ‰€æœ‰å¡ç‰‡ç»Ÿä¸€åº”ç”¨ */
        .user-panel,
        .action-btn,
        .activity-card,
        .data-card,
        .stat-card,
        .param-panel,
        .earning-panel,
        .kline-card,
        .diff-card,
        .token-card,
        .rewards,
        .comment-item,
        .model-mini-card,
        .health-item,
        .flywheel-node-card,
        .total-value {
            background: rgba(255, 255, 255, 0.58) !important;
            backdrop-filter: blur(20px) saturate(180%) !important;
            -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
            border: 0.5px solid rgba(255, 255, 255, 0.6);
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.04);
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
            transition: all 0.2s ease;
        }

        /* ç§»é™¤æ‰€æœ‰ç²—è¾¹æ¡†ã€é‡é˜´å½±ã€æ¸å˜è¾¹æ¡† */
        .activity-card,
        .action-btn,
        .user-panel {
            border: 0.5px solid rgba(255, 255, 255, 0.6) !important;
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.04) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02) !important;
        }

        .action-btn.active,
        .activity-card.active,
        .user-panel.expanded {
            background: rgba(255, 255, 255, 0.78) !important;
            border: 0.5px solid rgba(0, 102, 255, 0.3) !important;
            box-shadow: 0 8px 18px rgba(0, 102, 255, 0.08) !important;
        }

        /* ç§»é™¤æ‰€æœ‰ä¼ªå…ƒç´ è£…é¥°ï¼ˆæ¸å˜çº¿æ¡ã€å‘å…‰è¾¹æ¡†ç­‰ï¼‰ */
        .user-panel::before,
        .action-btn::before,
        .card-icon::before,
        .expand-btn::before,
        .data-card::before,
        .data-value::after,
        .btn-label::after,
        .card-text h3::after,
        .section-title::after,
        .rules-list li::before {
            display: none !important;
        }

        /* æ–‡å­—åªä¿ç•™å­—é‡ï¼Œå»é™¤ç‰¹æ•ˆ */
        h1, h2, h3, h4, p, span, .btn-label, .data-value, .stat-number {
            font-weight: 500;
            letter-spacing: normal;
            text-shadow: none;
        }

        .btn-label {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .action-btn.active .btn-label {
            color: var(--blue);
        }

        /* å›¾æ ‡è½»ç›ˆ */
        .btn-icon, .card-icon, .health-icon {
            border: none !important;
            background: transparent !important;
            box-shadow: none !important;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.02));
            color: var(--text-soft);
            font-size: 2rem;
        }

        .action-btn.active .btn-icon,
        .activity-card.active .card-icon {
            color: var(--blue);
        }

        /* çŠ¶æ€æ ‡è®° â€”â€” æç®€åœ†ç‚¹ */
        .status-badge {
            background: rgba(0, 102, 255, 0.06);
            border: none;
            border-radius: 40px;
            padding: 6px 14px;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--blue);
        }

        /* å±•å¼€æŒ‰é’® */
        .card-expand, .expand-btn {
            border: none !important;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 30px;
            color: var(--text-light);
        }

        /* åˆ†å‰²çº¿æ·¡åŒ– */
        .rules-list li,
        .reward-item,
        .flywheel-node,
        .comment-item {
            border-bottom: 0.5px solid rgba(0, 0, 0, 0.04);
        }

        /* æ»‘å— */
        .slider {
            background: rgba(0, 0, 0, 0.04);
            height: 4px;
            border-radius: 10px;
        }
        .slider::-webkit-slider-thumb {
            width: 20px;
            height: 20px;
            background: white;
            border: 1.5px solid var(--blue);
            box-shadow: 0 2px 8px rgba(0,102,255,0.1);
        }

        /* æŒ‰é’® */
        .card-action-primary {
            background: var(--blue);
            border: none;
            color: white;
            border-radius: 40px;
            padding: 14px 24px;
            font-weight: 600;
            box-shadow: none;
        }
        .card-action-secondary {
            background: rgba(0, 102, 255, 0.04);
            border: none;
            color: var(--blue);
            border-radius: 40px;
            padding: 14px 24px;
            font-weight: 600;
        }

        /* è¡¨æ ¼ã€è¾“å…¥æ¡†æç®€ */
        .stake-table td,
        .stake-table th {
            padding: 12px 16px;
            border-bottom: 0.5px solid rgba(0,0,0,0.04);
            background: transparent;
        }

        .comment-input,
        .number-input {
            background: rgba(255,255,255,0.5);
            border: 0.5px solid rgba(0,0,0,0.04);
            border-radius: 30px;
            padding: 12px 18px;
            backdrop-filter: blur(10px);
        }

        /* å¸ƒå±€ä¿ç•™ï¼Œä»…ç®€åŒ–è§†è§‰ */
        .h-letter-container {
            opacity: 0.7;
            margin-bottom: 12px;
        }
        .h-interactive {
            font-size: 80px;
            background: linear-gradient(135deg, #0066ff, #00c6ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            filter: drop-shadow(0 2px 8px rgba(0,102,255,0.1));
        }

        .details-grid {
            gap: 8px;
        }
        .data-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }
        .data-label {
            font-size: 0.7rem;
            font-weight: 500;
            color: var(--text-light);
            text-transform: uppercase;
        }

        /* å“åº”å¼ä¿ç•™ */
        @media (max-width: 768px) {
            .btn-label { font-size: 1.1rem; }
            .btn-icon { font-size: 1.8rem; }
            .card-icon { width: 60px; height: 60px; font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <!-- æ³¨æ„ï¼šæ²¡æœ‰ä»»ä½•èƒŒæ™¯çº¿æ¡ï¼Œå®Œå…¨é€æ˜ã€‚åªæœ‰å¡ç‰‡å’Œæ–‡å­—ã€‚ -->

    <!-- é¡¶éƒ¨Hå­—æ¯ (ææ·¡) -->
    <div class="h-letter-container">
        <div class="h-interactive">H</div>
    </div>

    <!-- ç”¨æˆ·é¢æ¿ -->
    <div class="user-panel glass-card" id="userPanel" style="padding: 20px; margin-bottom: 24px;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <div style="display: flex; align-items: baseline; gap: 10px; margin-bottom: 8px;">
                    <span style="font-size: 1.3rem; font-weight: 600;">æµ·è±šç”¨æˆ·212</span>
                    <span style="font-size: 0.75rem; color: var(--text-light); background: rgba(0,0,0,0.02); padding: 4px 10px; border-radius: 30px;">IDï¼š991</span>
                </div>
                <div style="display: flex; align-items: center; gap: 6px; color: #b38f00; font-size: 0.85rem;">
                    <i class="fas fa-crown"></i> é‡‘ç‰Œä¼šå‘˜
                </div>
            </div>
            <div class="expand-btn" style="width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%;">
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
        <div class="user-details" id="userDetails" style="max-height: 0; overflow: hidden; transition: max-height 0.3s;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding-top: 20px;">
                <div class="data-card" style="padding: 16px; text-align: center;">
                    <div class="data-value" id="networthValue">918 DPH</div>
                    <div class="data-label">èº«ä»·</div>
                </div>
                <div class="data-card" style="padding: 16px; text-align: center;">
                    <div class="data-value" id="balanceValue">$1023</div>
                    <div class="data-label">ä½™é¢</div>
                </div>
                <div class="data-card" style="padding: 16px; text-align: center;">
                    <div class="data-value" id="volumeValue">$8827</div>
                    <div class="data-label">è´¡çŒ®åº¦</div>
                </div>
                <div class="data-card" style="padding: 16px; text-align: center;">
                    <div class="data-value" id="rankValue">9</div>
                    <div class="data-label">å‘¨æ’å</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸‰ä¸ªæ ¸å¿ƒæŒ‰é’® (æç®€) -->
    <div style="display: flex; gap: 12px; margin-bottom: 24px;">
        <div class="action-btn glass-card active" id="btnBoost" style="flex: 1; padding: 20px 12px; display: flex; flex-direction: column; align-items: center; gap: 12px; border-radius: 24px;">
            <div class="btn-icon"><i class="fas fa-rocket"></i></div>
            <div class="btn-label">Boost</div>
        </div>
        <div class="action-btn glass-card" id="btnModel" style="flex: 1; padding: 20px 12px; display: flex; flex-direction: column; align-items: center; gap: 12px; border-radius: 24px;">
            <div class="btn-icon"><i class="fas fa-dolphin"></i></div>
            <div class="btn-label">æ¨¡å‹</div>
        </div>
        <div class="action-btn glass-card" id="btnData" style="flex: 1; padding: 20px 12px; display: flex; flex-direction: column; align-items: center; gap: 12px; border-radius: 24px;">
            <div class="btn-icon"><i class="fas fa-database"></i></div>
            <div class="btn-label">æ•°æ®</div>
        </div>
    </div>

    <!-- å¡ç‰‡å®¹å™¨ (åªæ”¾ä¸€å¼ ä»£è¡¨æ€§å¡ç‰‡ï¼Œå…¶ä»–å¡ç‰‡ç»“æ„å’ŒåŸæ¥ä¸€è‡´ï¼Œè¿™é‡Œä»¥åŠ¨æ€æ”¶ç›Šæ¨¡æ‹Ÿå¡ä¸ºä¾‹å±•ç¤ºæç®€æ•ˆæœ) -->
    <div class="cards-container">
        <!-- åŠ¨æ€æ”¶ç›Šæ¨¡æ‹Ÿå¡ç‰‡ â€”â€” æç®€é€æ˜ç‰ˆ -->
        <div class="activity-card model-card glass-card active" id="cardSim" style="width: 100%;">
            <div class="card-header" style="padding: 20px; display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <div class="card-icon" style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-chart-line" style="font-size: 2rem;"></i>
                    </div>
                    <div>
                        <h3 style="font-size: 1.2rem; font-weight: 600; margin-bottom: 4px;">åŠ¨æ€æ”¶ç›Šæ¨¡æ‹Ÿ</h3>
                        <p style="font-size: 0.85rem; color: var(--text-light);">å®æ—¶è”åŠ¨Kçº¿ Â· åŒå¼•æ“æ”¶ç›Š</p>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span class="status-badge" style="background: rgba(0,102,255,0.06); color: var(--blue); padding: 6px 14px; border-radius: 40px; font-size: 0.75rem;">ğŸ”„ å®æ—¶è®¡ç®—</span>
                    <div class="card-expand" style="width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 50%;">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>
            <div class="card-content" style="max-height: 800px; overflow: hidden; transition: max-height 0.3s;">
                <div style="padding: 0 20px 20px;">
                    <!-- KPI 6é¡¹ -->
                    <div style="display: grid; grid-template-columns: repeat(6,1fr); gap: 8px; margin-bottom: 20px;">
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-cart-shopping"></i> è´­ä¹°ä»·</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="buyPriceDisplay">$0.0010</div>
                        </div>
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-tag"></i> å–å‡ºä»·</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="sellPriceDisplay">$0.0015</div>
                        </div>
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-lock"></i> TVL</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="tvlDisplay">$199K</div>
                        </div>
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-arrows-rotate"></i> æ—¥äº¤æ˜“é‡</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="volumeDisplay">$10K</div>
                        </div>
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-gauge-high"></i> å¹´åŒ–APY</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="apyDisplay">438%</div>
                        </div>
                        <div class="stat-card" style="padding: 12px; text-align: center;">
                            <div style="font-size: 0.6rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-star"></i> Boostç§¯åˆ†</div>
                            <div style="font-size: 1.1rem; font-weight: 600;" id="boostDisplay">20.0</div>
                        </div>
                    </div>
                    <!-- æ¨¡æ‹Ÿå™¨åŒæ  -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="param-panel" style="padding: 20px;">
                            <div style="margin-bottom: 16px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 0.8rem;">
                                    <span><i class="fas fa-dollar-sign"></i> è´¨æŠ¼é‡‘é¢</span>
                                    <span><input type="number" id="stakeInput" value="1000" min="100" max="50000" step="100" style="width: 100px; text-align: right;" class="number-input"></span>
                                </div>
                                <input type="range" id="stakeSlider" class="slider" min="100" max="50000" value="1000" step="100" style="width: 100%;">
                            </div>
                            <div style="margin-bottom: 16px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 0.8rem;">
                                    <span><i class="fas fa-calendar"></i> è´¨æŠ¼å¤©æ•°</span>
                                    <span id="daysValue">45 å¤©</span>
                                </div>
                                <input type="range" id="daysSlider" class="slider" min="1" max="90" value="45" step="1" style="width: 100%;">
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; margin-top: 8px;">
                                <span style="font-size: 0.8rem;"><i class="fas fa-rotate"></i> æ¯æ—¥å¤æŠ•</span>
                                <input type="checkbox" id="compoundToggle" class="toggle-checkbox" hidden checked>
                                <label for="compoundToggle" style="width: 44px; height: 24px; background: rgba(0,0,0,0.04); border-radius: 30px; position: relative; cursor: pointer;"></label>
                            </div>
                        </div>
                        <div class="earning-panel" style="padding: 20px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
                                <div style="padding: 12px;">
                                    <div style="font-size: 0.65rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-sun"></i> æ—¥æ”¶ç›Š</div>
                                    <div style="font-size: 1.3rem; font-weight: 600;" id="dailyEarn">$5.00</div>
                                </div>
                                <div style="padding: 12px;">
                                    <div style="font-size: 0.65rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-boxes"></i> è´¨æŠ¼æ”¶ç›Š</div>
                                    <div style="font-size: 1.3rem; font-weight: 600;" id="stakeEarn">$225</div>
                                </div>
                                <div style="padding: 12px;">
                                    <div style="font-size: 0.65rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-chart-line"></i> èµ„æœ¬åˆ©å¾—</div>
                                    <div style="font-size: 1.3rem; font-weight: 600;" id="gainEarn">$500</div>
                                </div>
                                <div style="padding: 12px;">
                                    <div style="font-size: 0.65rem; color: var(--text-light); margin-bottom: 4px;"><i class="fas fa-bolt"></i> Boostå¥–åŠ±</div>
                                    <div style="font-size: 1.3rem; font-weight: 600;" id="boostEarn">$120</div>
                                </div>
                            </div>
                            <div class="total-value" style="display: flex; justify-content: space-between; align-items: center; padding: 16px 20px;">
                                <span><i class="fas fa-coins"></i> æ€»æ”¶ç›Š</span>
                                <span style="font-size: 1.5rem; font-weight: 600; color: var(--blue);" id="totalEarn">$845</span>
                            </div>
                        </div>
                    </div>
                    <!-- Kçº¿å›¾ (canvas) -->
                    <div class="kline-card" style="margin-top: 20px; padding: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-chart-line" style="color: var(--blue);"></i>
                                <h4 style="font-weight: 600;">Hä»£å¸ 30æ—¥ä»·æ ¼æ¨¡æ‹Ÿ</h4>
                            </div>
                            <div style="display: flex; gap: 16px; font-size: 0.75rem;">
                                <span><i class="fas fa-arrow-down" style="color: #ef4444;"></i> ä½ç‚¹ <strong id="lowPrice">$0.0008</strong></span>
                                <span><i class="fas fa-arrow-up" style="color: #10b981;"></i> é«˜ç‚¹ <strong id="highPrice">$0.0018</strong></span>
                            </div>
                        </div>
                        <div style="width: 100%; height: 180px;">
                            <canvas id="priceChart" width="600" height="180" style="width:100%; height:100%; background: transparent;"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== æç®€ç‰ˆäº¤äº’ï¼ˆä¿ç•™å®Œæ•´åŠŸèƒ½ï¼Œç§»é™¤æ‰€æœ‰è£…é¥°ä»£ç ï¼‰==========
        // ç”¨æˆ·é¢æ¿å±•å¼€/æŠ˜å 
        const userPanel = document.getElementById('userPanel');
        const userDetails = document.getElementById('userDetails');
        userPanel.addEventListener('click', function(e) {
            if (e.target.closest('.expand-btn') || this === e.target || e.target.closest('.user-info-header')) {
                const isExpanded = this.classList.contains('expanded');
                if (!isExpanded) {
                    this.classList.add('expanded');
                    userDetails.style.maxHeight = userDetails.scrollHeight + 'px';
                } else {
                    this.classList.remove('expanded');
                    userDetails.style.maxHeight = '0';
                }
            }
        });

        // æŒ‰é’®è”åŠ¨
        const actionBtns = document.querySelectorAll('.action-btn');
        const allCards = document.querySelectorAll('.activity-card');
        function filterCards(mode) {
            allCards.forEach(card => {
                if (mode === 'boost') card.style.display = card.classList.contains('boost-card') ? 'block' : 'none';
                else if (mode === 'model') card.style.display = card.classList.contains('model-card') ? 'block' : 'none';
                else if (mode === 'data') card.style.display = 'none';
            });
        }
        filterCards('model'); // æ¼”ç¤ºé»˜è®¤æ˜¾ç¤ºæ¨¡å‹å¡
        actionBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                actionBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                if (this.id === 'btnBoost') filterCards('boost');
                else if (this.id === 'btnModel') filterCards('model');
                else if (this.id === 'btnData') { filterCards('data'); alert('æ•°æ®åŠŸèƒ½'); }
            });
        });

        // å¡ç‰‡æŠ˜å 
        allCards.forEach(card => {
            const header = card.querySelector('.card-header');
            const content = card.querySelector('.card-content');
            header.addEventListener('click', function(e) {
                if (e.target.closest('button')) return;
                card.classList.toggle('active');
                if (card.classList.contains('active')) content.style.maxHeight = content.scrollHeight + 'px';
                else content.style.maxHeight = '0';
            });
        });

        // ========== æ”¶ç›Šæ¨¡æ‹Ÿå™¨ (å®Œå…¨ä¿ç•™åŸè®¡ç®—é€»è¾‘ï¼Œä»…ç²¾ç®€) ==========
        const stakeInput = document.getElementById('stakeInput');
        const stakeSlider = document.getElementById('stakeSlider');
        const daysSlider = document.getElementById('daysSlider');
        const daysValue = document.getElementById('daysValue');
        const buyPriceInput = document.getElementById('buyPriceInput');
        const buyPriceSlider = document.getElementById('buyPriceSlider');
        const sellPriceInput = document.getElementById('sellPriceInput');
        const sellPriceSlider = document.getElementById('sellPriceSlider');
        const compoundToggle = document.getElementById('compoundToggle');
        const dailyEarn = document.getElementById('dailyEarn');
        const stakeEarn = document.getElementById('stakeEarn');
        const gainEarn = document.getElementById('gainEarn');
        const boostEarn = document.getElementById('boostEarn');
        const totalEarn = document.getElementById('totalEarn');
        const apyDynamic = document.getElementById('apyDynamic');
        const boostDynamic = document.getElementById('boostDynamic');
        const buyPriceDisplay = document.getElementById('buyPriceDisplay');
        const sellPriceDisplay = document.getElementById('sellPriceDisplay');
        const tvlDisplay = document.getElementById('tvlDisplay');
        const volumeDisplay = document.getElementById('volumeDisplay');
        const apyDisplay = document.getElementById('apyDisplay');
        const boostDisplay = document.getElementById('boostDisplay');
        const lowPriceEl = document.getElementById('lowPrice');
        const highPriceEl = document.getElementById('highPrice');
        const canvas = document.getElementById('priceChart');
        const ctx = canvas?.getContext('2d');

        // ç®€å•Kçº¿
        function resizeCanvas() { if (canvas) { canvas.width = canvas.parentNode?.clientWidth || 600; canvas.height = 180; } }
        function generatePriceHistory(buy, sell) { let d=[]; for(let i=0;i<30;i++) d.push(sell * (0.65+i/29*0.7) * (0.82+Math.random()*0.32)); d[29]=sell; return d; }
        function drawChart(data, buy, sell) {
            if (!ctx) return; resizeCanvas(); const w=canvas.width, h=canvas.height; ctx.clearRect(0,0,w,h);
            let min=Math.min(...data)*0.92, max=Math.max(...data)*1.06, range=max-min||0.001;
            ctx.beginPath(); ctx.moveTo(0, h-((data[0]-min)/range)*h);
            for(let i=1;i<data.length;i++) ctx.lineTo(i/(data.length-1)*w, h-((data[i]-min)/range)*h);
            ctx.strokeStyle = 'rgba(0,102,255,0.8)'; ctx.lineWidth = 1.8; ctx.stroke();
            let buyY = h-((buy-min)/range)*h, sellY = h-((sell-min)/range)*h;
            ctx.beginPath(); ctx.moveTo(0,buyY); ctx.lineTo(w,buyY); ctx.strokeStyle = 'rgba(245,158,11,0.5)'; ctx.stroke();
            ctx.beginPath(); ctx.moveTo(0,sellY); ctx.lineTo(w,sellY); ctx.strokeStyle = 'rgba(16,185,129,0.5)'; ctx.stroke();
        }

        function updateAll() {
            let stake = parseFloat(stakeInput?.value)||1000;
            let days = parseInt(daysSlider?.value)||45;
            let buy = parseFloat(buyPriceInput?.value)||0.001;
            let sell = parseFloat(sellPriceInput?.value)||0.0015;
            let volume = 10000; // ç®€åŒ–
            let compound = compoundToggle?.checked || true;
            let dailyRate = days>=61?0.012: days>=31?0.01: days>=16?0.008: days>=8?0.006:0.005;
            let apy = (dailyRate*365*100).toFixed(0);
            let daily = stake * dailyRate;
            let totalStake = compound ? stake * (Math.pow(1+dailyRate, days)-1) : daily * days;
            let hAmount = stake / buy;
            let capitalGain = (sell - buy) * hAmount;
            let boostReward = 120; // ç®€åŒ–
            let boostPoints = 20.0;
            let total = totalStake + capitalGain + boostReward;
            if (dailyEarn) dailyEarn.innerText = '$' + daily.toFixed(2);
            if (stakeEarn) stakeEarn.innerText = '$' + Math.round(totalStake);
            if (gainEarn) gainEarn.innerText = '$' + Math.round(capitalGain);
            if (boostEarn) boostEarn.innerText = '$' + Math.round(boostReward);
            if (totalEarn) totalEarn.innerText = '$' + Math.round(total);
            if (buyPriceDisplay) buyPriceDisplay.innerText = '$' + buy.toFixed(4);
            if (sellPriceDisplay) sellPriceDisplay.innerText = '$' + sell.toFixed(4);
            if (tvlDisplay) tvlDisplay.innerText = '$199K';
            if (volumeDisplay) volumeDisplay.innerText = '$10K';
            if (apyDisplay) apyDisplay.innerText = apy + '%';
            if (boostDisplay) boostDisplay.innerText = boostPoints.toFixed(1);
            let history = generatePriceHistory(buy, sell);
            if (lowPriceEl) lowPriceEl.innerText = '$' + Math.min(...history).toFixed(4);
            if (highPriceEl) highPriceEl.innerText = '$' + Math.max(...history).toFixed(4);
            drawChart(history, buy, sell);
        }

        if (stakeSlider) stakeSlider.addEventListener('input', function() { stakeInput.value = this.value; updateAll(); });
        if (stakeInput) stakeInput.addEventListener('input', function() { let v = Math.min(Math.max(parseFloat(this.value)||1000,100),50000); stakeSlider.value = v; updateAll(); });
        if (daysSlider) daysSlider.addEventListener('input', function() { daysValue.innerText = this.value + ' å¤©'; updateAll(); });
        if (compoundToggle) compoundToggle.addEventListener('change', updateAll);
        if (daysValue) daysValue.innerText = (daysSlider?.value || 45) + ' å¤©';
        updateAll();

        // æ¨¡æ‹Ÿæ•°æ®æµ®åŠ¨
        const networthValue = document.getElementById('networthValue');
        const balanceValue = document.getElementById('balanceValue');
        const volumeValue = document.getElementById('volumeValue');
        const rankValue = document.getElementById('rankValue');
        let networth = 918, balance = 1023, volume = 8827, rank = 9;
        setInterval(() => {
            networth += Math.floor(Math.random()*3)+1; networthValue.textContent = `${networth} DPH`;
            balance += Math.floor(Math.random()*10)-3; if (balance<0) balance=0; balanceValue.textContent = `$${balance}`;
            volume += Math.floor(Math.random()*20); volumeValue.textContent = `$${volume}`;
            if (Math.random()>0.7) { rank += Math.random()>0.5 ? -1 : 1; if(rank<1) rank=1; if(rank>100) rank=100; rankValue.textContent = `${rank}`; }
        }, 30000);
    </script>
</body>
</html>